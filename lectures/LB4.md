
## Урок 3 SQL: Запросы с ограничениями (П.  2)

При написании  `WHERE`  предложений со столбцами, содержащими текстовые данные, SQL поддерживает ряд полезных операторов для выполнения таких действий, как сравнение строк без учета регистра и сопоставление шаблонов с подстановочными знаками.  Ниже мы покажем несколько распространенных операторов, специфичных для текстовых данных:

| Оператор  | Условие | Пример|
| ------------- | ------------- | ------------- |
| =  | Точное сравнение строк с учетом регистра (_обратите внимание на единственное значение equals_)  | `col_name  =  "abc"` |
| != или <> | Сравнение точного неравенства строк с учетом регистра | `col_name  !=  "abcd"` |
| LIKE | Точное сравнение строк без учета регистра | `col_name  LIKE  "ABC"` |
| NOT LIKE | Сравнение точного строкового неравенства без учета регистра | `col_name  NOT LIKE  "ABCD"` |
| % | Используется в любом месте строки для сопоставления последовательности из нуля или более символов (только с ПОХОЖИМИ или НЕ ПОХОЖИМИ) | `col_name  LIKE  "%AT%"  (matches "AT", "ATTIC", "CAT" or even "BATS")` |
| _ | Используется в любом месте строки для сопоставления с одним символом (только с ПОХОЖИМ или НЕ ПОХОЖИМ) | `col_name  LIKE  "AN_"  
(matches "AND", but not "AN")` |
| IN (…) | Строка существует в списке | `col_name  IN  ("A", "B", "C")` |
| NOT IN (…) | Строка не существует в списке | `col_name  NOT IN  ("D", "E", "F")` |


>Знаете ли вы?
>Все строки (тип данных) должны быть заключены в кавычки, чтобы анализатор запросов мог отличить слова в строке от ключевых слов SQL.

Мы должны отметить, что, хотя большинство реализаций баз данных довольно эффективны при использовании этих операторов, полнотекстовый поиск лучше оставить специализированным библиотекам, таким как  [Apache Lucene](http://lucene.apache.org/ "Apache Lucene")  или  [Sphinx](http://sphinxsearch.com/ "Поиск по Sphinx").  Эти библиотеки разработаны специально для выполнения полнотекстового поиска и, как следствие, являются более эффективными и могут поддерживать более широкий спектр функций поиска, включая интернационализацию и расширенные запросы.

### Упражнение

Вот определение запроса с  `WHERE`  предложением еще раз, продолжайте и попробуйте написать несколько запросов с помощью приведенных выше операторов, чтобы ограничить результаты информацией, которая нам нужна в нижеприведенных задачах.

```SQL
-- Выберите запрос с ограничениями
SELECT column, another_column, …
FROM mytable
WHERE _condition_ AND/OR _another_condition_ AND/OR …;
```

#### Задачи
1.  Найдите все фильмы Истории игрушек
2.  Найдите все фильмы режиссера Джона Лассетера
3.  Найдите все фильмы (и режиссера), снятые не Джоном Лассетером
4.  Найдите все фильмы на `WALL-*`
